<?xml version="1.0" encoding="UTF-8"?>
<!--
$Id$
vim:softtabstop=2 shiftwidth=2
-->

<!-- =========================================================================
Appendix
-->
<chapter id="appendix"><title>Appendix</title>

  <section id="shell_errata"><title>Shell Errata</title>

    <section id="zsh"><title>ZSH</title>
      <para>To use <command>zsh</command> with shUnit2, the following two requirements must be met:</para>
      <itemizedlist>
        <listitem><para>To match behavior with other shells, the <option>shwordsplit</option> option must be set. When invoking <command>zsh</command> from either the command-line or as a script with <code>#!</code>, make sure to add the <parameter>-y</parameter> parameter.</para></listitem>
        <listitem>
          <para>shUnit2 needs the name of the unit test script so that it can glean the test function names automatically. <command>zsh</command> does not pass the <varname>$0</varname> variable through to a sourced library (it replaces it with the name of the library) so a separate <varname>SHUNIT_PARENT</varname> variable must be defined so that shUnit2 has the name of the parent script from which test functions should be found. Change the &shunit2; call line in the unit test script as follows if <command>zsh</command> support is needed.</para>
          <programlisting>
<![CDATA[
SHUNIT_PARENT=$0 . /path/to/shunit2
]]>
          </programlisting>
        </listitem>
      </itemizedlist>

    </section>
  </section>
</chapter>
